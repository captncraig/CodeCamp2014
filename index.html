<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=1024" />
  <title>Thrift!</title>

  <link rel="stylesheet" src="//normalize-css.googlecode.com/svn/trunk/normalize.css" />
  <link rel="stylesheet" href="css/style.css">

  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

</head>
<body>

  <div id="impress">

   
    <div id="introduction" class="step" data-x="0" data-y="0">
      <h1 class="line">High Performance Web Services with Apache Thrift</h1>
      <h2>Craig Peterson<h2>
      <h2>Utah Code Camp, Spring 2014<h2>
    </div>
	
	<!--
	<div id="problem" class="step" data-x="500" data-y="0">
		<h1>What problem are we trying to solve?</h1>
		<p class="substep">Server A needs to talk to Server B...</p>
		<p class="substep">...to get data</p>
		<p class="substep">..to perform operations</p>
	</div>
	
	<div id="rest" class="step" data-x="500" data-y="0" data-rotate-x="-90">
		<p class='rest'>REST!</p>
		<ul>
		<li class='substep star'>Easy to use!</li>
		<li class='substep star'>Simple tooling!</li>
		<li class='substep star'>HTTP!</li>
		<li class='substep star'>URIs!</li>
		</ul>
	</div>
	
	<div id="sux" class="step" data-x="2000" data-y="0" data-rotate-x="-90">
		<h1>What's wrong with REST?</h1>
		<ul>
			<li class="substep">Tons of frameworks<span class='substep'>  <-- Good and bad</span></li>
			<li class="substep">Many choices to make:
				<ul>
					<li class='substep'>Routes: <span class='pre'>/users/123/orders</span> or <span class='pre'>/orders?user=123</span></li>
					
					<li class='substep'>Data Types and field names: <span class='pre'>userID</span> or <span class='pre'>UserId?</span></li>
					<li class='substep'>Versioning: <span class='pre'>myurl.com/v1/user/123</span> or <span class='pre'>Accept:application/user-v1+json</span></li>
					<li class='substep'>Error Reporting: Special header, or content body?</li>
					<li class='substep'>Response codes?</li>
					
				</ul>
			</li>
			<li class="substep">No standard way to communicate these choices</li>
			<li class="substep">All clients must know all of these details</li>
		</ul>
	</div>
	<div id="culture" class="step" data-x="2000" data-y="0" data-rotate-x="90">
		<h1>Cultural factors</h1>
		<ul>
			<li class='substep'>Easier to think of service-to-service calls as Method calls</li>
			<li class='substep'>Hard to map <span class='pre'>CancelRenewingOrderWithNewMigration()</span> to a RESTful resource</li>
			<li class='substep'>Clients want a package they can install, not just a spec</li>
		</ul>
		<p class='substep' style="font-size:300%; margin-top:30px;"> What else is there if not REST?</p>
	</div>
	
	<div id="rpc" class="step" data-x="2000" data-y="0">
		<div class="rpc">
			<div class='r'>R</div>
			<div class='emote'>emote</div>
			<div class='p'>P</div>
			<div class='rocedure'>rocedure</div>
			<div class='c'>C</div>
			<div class='all'>all</div>
		</div>
		<div style='clear:both'></div>
		<div class='substep'>
			<h3>^ Bad Word?</h3>
		</div>
	</div> -->
	
	<div id="components" class="step" data-x="2000" data-y="0">
      <h1 class="line">Thrift Components</h1>
	  <div class="idl box">Interface Description (IDL)</div>
	  <div class="gen box substep">Generated Objects</div>
	  <div class="lib substep">
		<div></div>
		<span>library</span>
	  </div>
	  <div class='prot box substep'>Protocol</div>
	  <div class='substep protEx'>How do I serialize a message? <div class='substep'>Json,Binary,Compact?</div></div>
	  <div class='trans box substep'>Transport</div>
	  <div class='substep transEx'>How do I get a message from point A to point B? <div class='substep'>Socket, Http, Message Bus, Email?</div></div>
	  <div class="server substep">
		<div></div>
		<span>server</span>
	  </div>
	  <div class='hand box substep'>Handler</div>
	  <div class='substep handEx'>Implementation of generated interface<div class='substep'>Your business logic goes here.</div></div>
	  <div class='serv box substep'>Server</div>
	  <div class='client substep'>Client generated too!</div>
    </div>
	
	<div id="protocol" class="step" data-x="2000" data-y="1000">
		<h1>Protocol</h1>
		<p>How do I turn a message into a sequence of bytes?</p>
		<p class='substep'><code>
			struct User{
				1: string Name,
				2: string Password
			}
			service UserService{
				void CreateUser(1: User U)
			}
		</code></p>
		<p class='substep'><code>CreateUser(new User{Name="Joe",Password="p4$$w0rd"});</code></p>
		<div class='blockMsg substep'>
			<div class='seg'><div class='block'>MessageBegin('CreateUser')</div></div>
			<div class='seg in1'><div class='block'>StructBegin //args</div></div>
			<div class='seg in2'><div class='block'>FieldBegin(struct,1)</div></div>
			<div class='seg in3'><div class='block'>StructBegin //User</div></div>
			<div class='seg in4'><div class='block'>FieldBegin(string,1)</div></div>
			<div class='seg in5'><div class='block'>String("Joe")</div></div>
			<div class='seg in4'><div class='block'>FieldEnd</div></div>
			<div class='seg in4'><div class='block'>FieldBegin(string,2)</div></div>
			<div class='seg in5'><div class='block'>String("p4$$w0rd")</div></div>
			<div class='seg in4'><div class='block'>FieldEnd</div></div>
			<div class='seg in4'><div class='block'>FieldStop</div></div>
			<div class='seg in3'><div class='block'>StructEnd //user</div></div>
			<div class='seg in2'><div class='block'>FieldEnd</div></div>
			<div class='seg in2'><div class='block'>FieldStop</div></div>
			<div class='seg in1'><div class='block'>StructEnd //args</div></div>
			<div class='seg'><div class='block'>MessageEnd</div></div>
		</div>
		<div class='jsonMsg substep'>
			<div class='seg'><div class='block'>[1,"CreateUser",1,0</div></div>
			<div class='seg in1'><div class='block'>{</div></div>
			<div class='seg in2'><div class='block'>1:</div></div>
			<div class='seg in3'><div class='block'>{</div></div>
			<div class='seg in4'><div class='block'>1:</div></div>
			<div class='seg in5'><div class='block'>"Joe"</div></div>
			<div class='seg in4'><div class='block'>,</div></div>
			<div class='seg in4'><div class='block'>2:</div></div>
			<div class='seg in5'><div class='block'>"p4$$w0rd"</div></div>
			<div class='seg in4'><div class='block'></div></div>
			<div class='seg in4'><div class='block'></div></div>
			<div class='seg in3'><div class='block'>}</div></div>
			<div class='seg in2'><div class='block'></div></div>
			<div class='seg in2'><div class='block'></div></div>
			<div class='seg in1'><div class='block'>}</div></div>
			<div class='seg'><div class='block'>]</div></div>
		</div>
		<div class='jsonMsg substep'>
			<div class='seg'><div class='block'>[1,"CreateUser",1,0</div></div>
			<div class='seg in1'><div class='block'>{</div></div>
			<div class='seg in2'><div class='block'>1:</div></div>
			<div class='seg in3'><div class='block'>{</div></div>
			<div class='seg in4'><div class='block'>1:</div></div>
			<div class='seg in5'><div class='block'>"Joe"</div></div>
			<div class='seg in4'><div class='block'>,</div></div>
			<div class='seg in4'><div class='block'>2:</div></div>
			<div class='seg in5'><div class='block'>"p4$$w0rd"</div></div>
			<div class='seg in4'><div class='block'></div></div>
			<div class='seg in4'><div class='block'></div></div>
			<div class='seg in3'><div class='block'>}</div></div>
			<div class='seg in2'><div class='block'></div></div>
			<div class='seg in2'><div class='block'></div></div>
			<div class='seg in1'><div class='block'>}</div></div>
			<div class='seg'><div class='block'>]</div></div>
		</div>
	</div>
	
	<div id="componentsback" class="step" data-x="2000" data-y="0"></div>

  </div> 
  <script src="js/impress.js"></script>
  <script>impress().init();</script>

</body>
</html>